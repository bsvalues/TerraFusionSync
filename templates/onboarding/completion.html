{% extends "base.html" %}

{% block title %}TerraFusion - Tutorial Completed{% endblock %}

{% block styles %}
  {{ super() }}
  <style>
    .completion-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      text-align: center;
    }
    
    .completion-header {
      margin-bottom: 2rem;
    }
    
    .completion-header h1 {
      color: #2d3748;
      margin-bottom: 1rem;
    }
    
    .role-badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 1rem;
      font-size: 0.875rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }
    
    .role-badge.ITAdmin { background-color: #4299e1; color: white; }
    .role-badge.Assessor { background-color: #48bb78; color: white; }
    .role-badge.Staff { background-color: #ed8936; color: white; }
    .role-badge.Auditor { background-color: #9f7aea; color: white; }
    .role-badge.default { background-color: #a0aec0; color: white; }
    
    .completion-image {
      width: 300px;
      height: auto;
      margin: 0 auto 2rem;
      display: block;
    }
    
    .completion-message {
      font-size: 1.25rem;
      line-height: 1.6;
      color: #4a5568;
      margin-bottom: 2rem;
    }
    
    .next-steps {
      margin: 2rem 0;
      background-color: #f7fafc;
      border-radius: 0.5rem;
      padding: 1.5rem;
      text-align: left;
      border: 1px solid #e2e8f0;
    }
    
    .next-steps h2 {
      color: #2d3748;
      margin-bottom: 1rem;
      font-size: 1.5rem;
    }
    
    .next-steps ul {
      list-style-type: none;
      padding: 0;
    }
    
    .next-steps li {
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
    }
    
    .next-steps li:before {
      content: "â†’";
      margin-right: 0.75rem;
      color: #4299e1;
      font-weight: bold;
    }
    
    .buttons {
      margin-top: 2rem;
      display: flex;
      justify-content: center;
      gap: 1rem;
    }
    
    .dashboard-btn, .review-btn {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      border-radius: 0.25rem;
      font-weight: 600;
      text-align: center;
      cursor: pointer;
      font-size: 1rem;
    }
    
    .dashboard-btn {
      background-color: #4299e1;
      color: white;
    }
    
    .review-btn {
      background-color: #e2e8f0;
      color: #4a5568;
    }
    
    .certificate {
      margin: 3rem auto 0;
      max-width: 600px;
      border: 2px solid #4299e1;
      border-radius: 0.5rem;
      padding: 2rem;
      background-color: #f0f5fa;
      position: relative;
    }
    
    .certificate:before {
      content: "";
      position: absolute;
      top: 0.5rem;
      left: 0.5rem;
      right: 0.5rem;
      bottom: 0.5rem;
      border: 1px dashed #4299e1;
      border-radius: 0.25rem;
      pointer-events: none;
    }
    
    .certificate h2 {
      margin-bottom: 1rem;
      color: #2b6cb0;
    }
    
    .certificate-content {
      margin-bottom: 1rem;
    }
    
    .certificate-date {
      font-style: italic;
      color: #718096;
      font-size: 0.875rem;
    }
  </style>
{% endblock %}

{% block content %}
  <div class="completion-container">
    <div class="completion-header">
      <h1>Tutorial Completed!</h1>
      <span class="role-badge {{ role }}">{{ role }}</span>
    </div>
    
    <img src="{{ url_for('static', filename='images/onboarding/' + image) }}" 
         alt="Completion" class="completion-image">
    
    <p class="completion-message">{{ message }}</p>
    
    <div class="certificate">
      <h2>Certificate of Completion</h2>
      <div class="certificate-content">
        This certifies that <strong>{{ user.full_name }}</strong> has successfully completed the 
        TerraFusion SyncService onboarding tutorial for the <strong>{{ role }}</strong> role.
      </div>
      <div class="certificate-date">Completed on {{ onboarding.completion_date.strftime('%B %d, %Y') if onboarding.completion_date else 'Today' }}</div>
    </div>
    
    <div class="next-steps">
      <h2>Next Steps</h2>
      <ul>
        {% if role == 'ITAdmin' %}
          <li>Explore the System Monitoring page to check system health</li>
          <li>Review and manage user accounts</li>
          <li>Configure system-wide settings and security policies</li>
          <li>Set up automated backup schedules</li>
        {% elif role == 'Assessor' %}
          <li>Review pending assessment submissions</li>
          <li>Access the approval queue for property assessments</li>
          <li>Generate reports for completed assessments</li>
          <li>Schedule recurring validation checks</li>
        {% elif role == 'Staff' %}
          <li>Upload your first property assessment data file</li>
          <li>Create a new sync pair for data validation</li>
          <li>Check the status of your submitted files</li>
          <li>Set up notifications for sync operations</li>
        {% elif role == 'Auditor' %}
          <li>Access the audit trail to review recent system activities</li>
          <li>Generate compliance reports for regulatory requirements</li>
          <li>Review user activity patterns</li>
          <li>Set up scheduled audit reports</li>
        {% else %}
          <li>Explore the dashboard to discover available features</li>
          <li>Complete your user profile settings</li>
          <li>Review the documentation for more information</li>
          <li>Contact support if you have any questions</li>
        {% endif %}
      </ul>
    </div>
    
    <div class="buttons">
      <a href="{{ url_for('dashboard') }}" class="dashboard-btn">Go to Dashboard</a>
      <a href="{{ url_for('onboarding_bp.onboarding_home') }}" class="review-btn">Review Tutorial</a>
    </div>
  </div>
{% endblock %}