<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}TerraFusion Platform{% endblock %}</title>
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

    <!-- Accessibility enhancements -->
    <meta name="description" content="TerraFusion Platform - County Assessment and GIS Data Management System">
    <style>
        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .navbar { background: #000; color: #fff; border: 2px solid #fff; }
            .nav-links a { color: #fff; border: 1px solid #fff; }
            .btn-primary { background: #000; color: #fff; border: 2px solid #fff; }
        }

        /* Focus indicators */
        *:focus {
            outline: 3px solid #0066cc;
            outline-offset: 2px;
        }

        /* Skip link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: #000;
            color: #fff;
            padding: 8px;
            text-decoration: none;
            z-index: 1000;
        }
        .skip-link:focus { top: 6px; }

        /* Screen reader only content */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
</head>
<body>
    <!-- Skip navigation link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-brand">
            <h1 id="site-title">TerraFusion</h1>
            <span class="sr-only">County Assessment and GIS Data Management Platform</span>
        </div>
        <ul class="nav-links" role="menubar">
            <li role="none">
                <a href="{{ url_for('dashboard') }}" 
                   role="menuitem" 
                   aria-describedby="dashboard-desc"
                   {% if request.endpoint == 'dashboard' %}aria-current="page"{% endif %}>
                   Dashboard
                   <span id="dashboard-desc" class="sr-only">Main dashboard with system overview</span>
                </a>
            </li>
            <li role="none">
                <a href="{{ url_for('sync_dashboard') }}" 
                   role="menuitem" 
                   aria-describedby="sync-desc"
                   {% if request.endpoint == 'sync_dashboard' %}aria-current="page"{% endif %}>
                   Sync Operations
                   <span id="sync-desc" class="sr-only">Data synchronization management</span>
                </a>
            </li>
            <li role="none">
                <a href="{{ url_for('gis_export_dashboard') }}" 
                   role="menuitem" 
                   aria-describedby="gis-desc"
                   {% if request.endpoint == 'gis_export_dashboard' %}aria-current="page"{% endif %}>
                   GIS Export
                   <span id="gis-desc" class="sr-only">Geographic Information System data export</span>
                </a>
            </li>
            <li role="none">
                <a href="{{ url_for('monitoring_dashboard') }}" 
                   role="menuitem" 
                   aria-describedby="monitoring-desc"
                   {% if request.endpoint == 'monitoring_dashboard' %}aria-current="page"{% endif %}>
                   Monitoring
                   <span id="monitoring-desc" class="sr-only">System performance and health monitoring</span>
                </a>
            </li>
        </ul>
    </nav>

    <!-- Main Content Area -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    {% block scripts %}{% endblock %}
</body>
</html>