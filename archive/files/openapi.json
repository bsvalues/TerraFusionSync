{"openapi":"3.1.0","info":{"title":"TerraFusion SyncService","description":"Enterprise data synchronization platform for County Property Assessment","version":"0.1.0"},"paths":{"/plugins/v1/reporting/reports":{"post":{"tags":["reporting","reporting"],"summary":"Create a new report job","description":"Create a new report generation job with specified parameters. Returns the created job details including a unique report_id.","operationId":"create_new_report_plugins_v1_reporting_reports_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportJobCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportJobResponse"}}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Bad Request"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Internal Server Error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["reporting","reporting"],"summary":"List report jobs","description":"Retrieve a list of report jobs with optional filtering by county, type, and status.","operationId":"list_reports_plugins_v1_reporting_reports_get","parameters":[{"name":"county_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by county ID","title":"County Id"},"description":"Filter by county ID"},{"name":"report_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by report type","title":"Report Type"},"description":"Filter by report type"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Maximum number of results","default":100,"title":"Limit"},"description":"Maximum number of results"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Offset for pagination","default":0,"title":"Offset"},"description":"Offset for pagination"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportJobListResponse"}}}},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Internal Server Error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/v1/reporting/reports/{report_id}":{"get":{"tags":["reporting","reporting"],"summary":"Get report job details","description":"Retrieve details for a specific report job by its ID.","operationId":"get_report_details_plugins_v1_reporting_reports__report_id__get","parameters":[{"name":"report_id","in":"path","required":true,"schema":{"type":"string","title":"Report Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportJobResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Not Found"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Internal Server Error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["reporting","reporting"],"summary":"Update report job status","description":"Update the status of a report job and optionally provide result information.","operationId":"update_report_status_plugins_v1_reporting_reports__report_id__patch","parameters":[{"name":"report_id","in":"path","required":true,"schema":{"type":"string","title":"Report Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportJobUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportJobResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Not Found"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Bad Request"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Internal Server Error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["Health"],"summary":"Health Check","description":"Check the health of the SyncService.\n\nReturns:\n    dict: Health status information","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/metrics":{"get":{"tags":["Monitoring"],"summary":"Get Metrics","description":"Get system metrics for monitoring.\n\nThis endpoint provides resource utilization and application performance metrics\nin Prometheus format. It includes both system metrics and application-specific\nmetrics such as valuation job statistics.\n\nReturns:\n    Response: Prometheus formatted metrics","operationId":"get_metrics_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/properties":{"get":{"tags":["Properties"],"summary":"Get Properties","description":"Get properties with optional filtering.\n\nArgs:\n    county_id: Filter by county ID\n    property_type: Filter by property type\n    limit: Maximum number of properties to return\n    offset: Offset for pagination\n    \nReturns:\n    List of property dictionaries","operationId":"get_properties_properties_get","parameters":[{"name":"county_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"County Id"}},{"name":"property_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Property Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Properties Properties Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/properties/{property_id}":{"get":{"tags":["Properties"],"summary":"Get Property","description":"Get a property by ID.\n\nArgs:\n    property_id: The property ID\n    \nReturns:\n    Property as a dictionary\n    \nRaises:\n    HTTPException: If property not found","operationId":"get_property_properties__property_id__get","parameters":[{"name":"property_id","in":"path","required":true,"schema":{"type":"string","title":"Property Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Property Properties  Property Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/counties":{"get":{"tags":["Counties"],"summary":"Get Counties","description":"Get a list of all configured counties.\n\nReturns:\n    List of county dictionaries with basic information","operationId":"get_counties_counties_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response Get Counties Counties Get"}}}}}}},"/counties/{county_id}":{"get":{"tags":["Counties"],"summary":"Get County Config","description":"Get detailed configuration information for a specific county.\n\nArgs:\n    county_id: The county ID\n    \nReturns:\n    County configuration dictionary\n    \nRaises:\n    HTTPException: If county configuration not found","operationId":"get_county_config_counties__county_id__get","parameters":[{"name":"county_id","in":"path","required":true,"schema":{"type":"string","title":"County Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get County Config Counties  County Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sync-sources":{"get":{"tags":["Sync"],"summary":"Get Sync Sources","description":"Get sync source systems with optional filtering.\n\nArgs:\n    county_id: Filter by county ID\n    system_type: Filter by system type\n    \nReturns:\n    List of sync source system dictionaries","operationId":"get_sync_sources_sync_sources_get","parameters":[{"name":"county_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"County Id"}},{"name":"system_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Sync Sources Sync Sources Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/seed-sample-data":{"post":{"tags":["Development"],"summary":"Seed Sample Data","description":"Seed the database with sample property data for testing.\nThis endpoint is for development and testing purposes only.\n\nArgs:\n    count: Number of sample properties to create (default: 10)\n    county_id: County ID to use for sample data (default: SAMPLE-001)\n    include_sync_sources: Whether to add sample sync sources (default: False)\n    \nReturns:\n    Dict with status and count of created records","operationId":"seed_sample_data_seed_sample_data_post","parameters":[{"name":"count","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Count"}},{"name":"county_id","in":"query","required":false,"schema":{"type":"string","default":"SAMPLE-001","title":"County Id"}},{"name":"include_sync_sources","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Sync Sources"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/import-jobs":{"get":{"tags":["Import"],"summary":"Get Import Jobs","description":"Get import jobs with optional filtering.\n\nArgs:\n    source_system_id: Filter by source system ID\n    status: Filter by job status\n    limit: Maximum number of jobs to return\n    offset: Offset for pagination\n    \nReturns:\n    List of import job dictionaries","operationId":"get_import_jobs_import_jobs_get","parameters":[{"name":"source_system_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Source System Id"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Import Jobs Import Jobs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"ErrorResponse":{"properties":{"detail":{"type":"string","title":"Detail","description":"Error message details"}},"type":"object","required":["detail"],"title":"ErrorResponse","description":"Error response schema."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ReportJobCreate":{"properties":{"report_type":{"type":"string","title":"Report Type","description":"Type of report to generate (e.g., 'sales_ratio_study', 'assessment_roll')"},"county_id":{"type":"string","title":"County Id","description":"County ID for which to generate the report"},"parameters":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Parameters","description":"Optional parameters for report generation"}},"type":"object","required":["report_type","county_id"],"title":"ReportJobCreate","description":"Schema for creating a new report job."},"ReportJobListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ReportJobResponse"},"type":"array","title":"Items","description":"List of report jobs"},"count":{"type":"integer","title":"Count","description":"Number of jobs in the response"}},"type":"object","required":["items","count"],"title":"ReportJobListResponse","description":"Schema for a list of report jobs."},"ReportJobResponse":{"properties":{"report_id":{"type":"string","title":"Report Id","description":"Unique identifier for the report job"},"report_type":{"type":"string","title":"Report Type","description":"Type of report"},"county_id":{"type":"string","title":"County Id","description":"County ID for which the report is generated"},"status":{"type":"string","title":"Status","description":"Current status of the report job"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message","description":"Status message or error details"},"parameters":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Parameters","description":"Parameters used for report generation"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Timestamp when the job was created"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Timestamp of the last status update"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At","description":"Timestamp when report generation started"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At","description":"Timestamp when report generation completed or failed"},"result_location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Result Location","description":"Location/identifier of the generated report"},"result_metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Result Metadata","description":"Metadata about the report result"}},"type":"object","required":["report_id","report_type","county_id","status","created_at","updated_at"],"title":"ReportJobResponse","description":"Schema for report job responses."},"ReportJobUpdate":{"properties":{"status":{"type":"string","title":"Status","description":"New status (PENDING, RUNNING, COMPLETED, FAILED)"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message","description":"Optional status message or error details"},"result_location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Result Location","description":"Location/identifier of the generated report (e.g., S3 path, URL)"},"result_metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Result Metadata","description":"Optional metadata about the report result (e.g., file size, page count)"}},"type":"object","required":["status"],"title":"ReportJobUpdate","description":"Schema for updating a report job."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}